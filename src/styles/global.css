@import "tailwindcss";

@theme {
  /* Ссылаемся на переменные, которые определим ниже */
  --color-hyle-bg: var(--hyle-bg);
  --color-hyle-text: var(--hyle-text);
  --color-hyle-clay: var(--hyle-clay);
  --color-hyle-stone: var(--hyle-stone);
  --color-hyle-surface: var(--hyle-surface); /* Новый цвет для подложек */
  
  --font-sans: "Inter", sans-serif;
  --font-serif: "Playfair Display", serif;
  --font-hand: "Caveat", cursive;
  
  --spacing-container: 1360px;
  --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
}

@layer base {
  :root {
    /* LIGHT MODE (Default) */
    --hyle-bg: #F9F8F6;       /* Теплый белый */
    --hyle-text: #2C2B29;     /* Уголь */
    --hyle-clay: #B35A32;     /* Терракота */
    --hyle-stone: #E5E0D8;    /* Камень */
    --hyle-surface: #F2F0EB;  /* Чуть темнее фона */
    --noise-blend: multiply;  /* Режим наложения шума */
    --noise-opacity: 0.035;
  }

  @media (prefers-color-scheme: dark) {
    :root {
      /* DARK MODE */
      --hyle-bg: #1A1918;     /* Глубокий черный (как Hero) */
      --hyle-text: #EAE8E4;   /* Слоновая кость (текст) */
      --hyle-clay: #D68C5A;   /* Глина чуть светлее для контраста */
      --hyle-stone: #333230;  /* Темный камень */
      --hyle-surface: #242321;/* Светлее фона (для карточек) */
      --noise-blend: overlay; /* На темном multiply не работает */
      --noise-opacity: 0.05;
    }
  }

  html {
    background-color: var(--color-hyle-bg);
    color: var(--color-hyle-text);
    font-family: var(--font-sans);
    scroll-behavior: smooth;
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Стабильная ширина в in-app браузерах (Telegram и др.) */
    width: 100%;
    min-width: 0;
    -webkit-text-size-adjust: 100%;
  }

  body {
    width: 100%;
    min-width: 0;
    overflow-x: hidden;
  }

  h1, h2, h3, h4 {
    font-family: var(--font-serif);
    font-weight: 400;
  }
  
  h1 {
    letter-spacing: -0.02em;
  }

  p, li, a {
    font-weight: 300;
  }

  /* Текстура шума */
  body::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 999;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    
    /* Адаптивный шум */
    opacity: var(--noise-opacity);
    mix-blend-mode: var(--noise-blend);
  }
}

@layer utilities {
  .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
  .scrollbar-hide::-webkit-scrollbar { display: none; }
  
  .animate-appear {
    animation: fade-up 1.2s var(--ease-out-expo) forwards;
  }
  
  @keyframes fade-up {
    from { opacity: 0; transform: translateY(15px); }
    to { opacity: 1; transform: translateY(0); }
  }
}

@utility container-main {
  @apply max-w-[var(--spacing-container)] mx-auto px-5 md:px-12 lg:px-16;
}