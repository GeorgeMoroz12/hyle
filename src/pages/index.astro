---
// src/pages/index.astro
import Layout from '../layouts/Layout.astro';
import ProductCard from '../components/ProductCard.astro';
import { getCollection } from 'astro:content';

const allProducts = await getCollection('products');
// Берем больше товаров для теста сетки
const recentProducts = allProducts.slice(0, 6); 
---

<Layout title="Brutal Collection">
  
  <div class="min-h-screen pt-24 pb-20">
    <div class="container-main">
        
        <!-- HEADER: THE MANIFESTO -->
        <div class="mb-20 border-b-2 border-white/10 pb-8">
            <h1 class="text-6xl md:text-9xl text-hyle-text mb-4 leading-[0.8]">
                RAW <br/> MATTER.
            </h1>
            <div class="flex flex-col md:flex-row justify-between items-end gap-8">
                <p class="font-mono text-sm md:text-base text-hyle-text/60 max-w-md uppercase leading-relaxed">
                    [System_Log: 2026]<br/>
                    Имперфекционизм. Грубая текстура. <br/>
                    Отсутствие декора. Только функция и форма.
                </p>
                <div class="font-stamp text-xs text-hyle-text/40 rotate-90 md:rotate-0 origin-right">
                    SCROLL DOWN ↓
                </div>
            </div>
        </div>

        <!-- GRID: STRICT & DENSE -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-4 gap-y-16">
            {recentProducts.map((product) => (
                <ProductCard product={product} />
            ))}
        </div>

    </div>
  </div>
</Layout>