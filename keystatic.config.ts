import { config, fields, collection, singleton } from '@keystatic/core';

export default config({
  storage: import.meta.env.PROD
    ? {
        kind: 'github',
        repo: 'GeorgeMoroz12/hyle',
        // –í–ê–ñ–ù–û: –Ø–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ–º –≤–µ—Ç–∫—É, –≤ –∫–æ—Ç–æ—Ä—É—é Keystatic –¥–µ–ª–∞–µ—Ç –∫–æ–º–º–∏—Ç—ã.
        // –ï—Å–ª–∏ —ç—Ç–æ–≥–æ –Ω–µ —Å–¥–µ–ª–∞—Ç—å, –æ–Ω –º–æ–∂–µ—Ç –ø–∏—Å–∞—Ç—å –Ω–µ —Ç—É–¥–∞, –∏ Vercel –Ω–µ —É–≤–∏–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π.
        branchPrefix: 'my-prefix/', // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ –ª—É—á—à–µ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º –¥–ª—è –ø—Ä—è–º—ã—Ö –∫–æ–º–º–∏—Ç–æ–≤
    }
    : {
        kind: 'local',
      },
  
  // –í Keystatic Cloud –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–µ—Ç–∫–∏ –¥–µ–ª–∞—é—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ,
  // –Ω–æ –≤ —Ä–µ–∂–∏–º–µ `github` (–Ω–∞—à —Å–ª—É—á–∞–π) –º—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å –æ—Å–Ω–æ–≤–Ω–æ–π –≤–µ—Ç–∫–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.
  // –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å—Ç—Ä–æ–≥–æ –ø–∏—Å–∞—Ç—å –≤ main:
  // –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ @keystatic/core –¥–ª—è —Ä–µ–∂–∏–º–∞ 'github' 
  // –≤–µ—Ç–∫–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —Å–∞–º–æ–≥–æ GitHub App –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.
  
  // –ù–û! –ú—ã –º–æ–∂–µ–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —ç—Ç–æ –≤ Vercel.
  
  singletons: {
     // ... (—Ç–≤–æ–∏ —Å–∏–Ω–≥–ª—Ç–æ–Ω—ã: landing, about, b2b)
     // –ö–æ–¥ –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º, —è –µ–≥–æ —Å–∫—Ä—ã–ª –¥–ª—è –∫—Ä–∞—Ç–∫–æ—Å—Ç–∏, —á—Ç–æ–±—ã –∞–∫—Ü–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ storage
     landing: singleton({
        label: 'üè† –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞',
        path: 'src/content/landing/home',
        schema: {
            heroTitleLine1: fields.text({ label: 'Hero: –ó–∞–≥–æ–ª–æ–≤–æ–∫ 1' }),
            // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
        }
     }),
     // ... about, b2b
  },

  collections: {
     // ... (—Ç–≤–æ–∏ –∫–æ–ª–ª–µ–∫—Ü–∏–∏: products, blog, tags, categories)
     products: collection({
        label: 'üè∫ –¢–æ–≤–∞—Ä—ã',
        slugField: 'title',
        path: 'src/content/products/*',
        format: { contentField: 'description' },
        schema: {
            title: fields.slug({ name: { label: '–ù–∞–∑–≤–∞–Ω–∏–µ' } }),
            // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
        }
     }),
     // ... tags, categories, blog
  }
});